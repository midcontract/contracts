{"abi":[{"type":"function","name":"computeClaimableAmountAndFee","inputs":[{"name":"instance","type":"address","internalType":"address"},{"name":"contractId","type":"uint256","internalType":"uint256"},{"name":"contractor","type":"address","internalType":"address"},{"name":"claimedAmount","type":"uint256","internalType":"uint256"},{"name":"feeConfig","type":"uint8","internalType":"enum Enums.FeeConfig"}],"outputs":[{"name":"claimableAmount","type":"uint256","internalType":"uint256"},{"name":"feeDeducted","type":"uint256","internalType":"uint256"},{"name":"clientFee","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"computeDepositAmountAndFee","inputs":[{"name":"instance","type":"address","internalType":"address"},{"name":"contractId","type":"uint256","internalType":"uint256"},{"name":"client","type":"address","internalType":"address"},{"name":"depositAmount","type":"uint256","internalType":"uint256"},{"name":"feeConfig","type":"uint8","internalType":"enum Enums.FeeConfig"}],"outputs":[{"name":"totalDepositAmount","type":"uint256","internalType":"uint256"},{"name":"feeApplied","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"defaultFees","inputs":[],"outputs":[{"name":"","type":"uint16","internalType":"uint16"},{"name":"","type":"uint16","internalType":"uint16"}],"stateMutability":"view"},{"type":"function","name":"getApplicableFees","inputs":[{"name":"instance","type":"address","internalType":"address"},{"name":"contractId","type":"uint256","internalType":"uint256"},{"name":"user","type":"address","internalType":"address"}],"outputs":[{"name":"","type":"tuple","internalType":"struct IEscrowFeeManager.FeeRates","components":[{"name":"coverage","type":"uint16","internalType":"uint16"},{"name":"claim","type":"uint16","internalType":"uint16"}]}],"stateMutability":"view"},{"type":"event","name":"ContractSpecificFeesReset","inputs":[{"name":"instance","type":"address","indexed":true,"internalType":"address"},{"name":"contractId","type":"uint256","indexed":true,"internalType":"uint256"}],"anonymous":false},{"type":"event","name":"ContractSpecificFeesSet","inputs":[{"name":"instance","type":"address","indexed":true,"internalType":"address"},{"name":"contractId","type":"uint256","indexed":true,"internalType":"uint256"},{"name":"coverage","type":"uint16","indexed":false,"internalType":"uint16"},{"name":"claim","type":"uint16","indexed":false,"internalType":"uint16"}],"anonymous":false},{"type":"event","name":"DefaultFeesSet","inputs":[{"name":"coverage","type":"uint16","indexed":false,"internalType":"uint16"},{"name":"claim","type":"uint16","indexed":false,"internalType":"uint16"}],"anonymous":false},{"type":"event","name":"InstanceFeesSet","inputs":[{"name":"instance","type":"address","indexed":true,"internalType":"address"},{"name":"coverage","type":"uint16","indexed":false,"internalType":"uint16"},{"name":"claim","type":"uint16","indexed":false,"internalType":"uint16"}],"anonymous":false},{"type":"event","name":"InstanceSpecificFeesReset","inputs":[{"name":"instance","type":"address","indexed":true,"internalType":"address"}],"anonymous":false},{"type":"event","name":"UserSpecificFeesReset","inputs":[{"name":"user","type":"address","indexed":true,"internalType":"address"}],"anonymous":false},{"type":"event","name":"UserSpecificFeesSet","inputs":[{"name":"user","type":"address","indexed":true,"internalType":"address"},{"name":"coverage","type":"uint16","indexed":false,"internalType":"uint16"},{"name":"claim","type":"uint16","indexed":false,"internalType":"uint16"}],"anonymous":false},{"type":"error","name":"EscrowFeeManager__FeeTooHigh","inputs":[]},{"type":"error","name":"EscrowFeeManager__UnsupportedFeeConfiguration","inputs":[]},{"type":"error","name":"EscrowFeeManager__ZeroAddressProvided","inputs":[]}],"bytecode":{"object":"0x","sourceMap":"","linkReferences":{}},"deployedBytecode":{"object":"0x","sourceMap":"","linkReferences":{}},"methodIdentifiers":{"computeClaimableAmountAndFee(address,uint256,address,uint256,uint8)":"5c5a62f3","computeDepositAmountAndFee(address,uint256,address,uint256,uint8)":"79c9fe44","defaultFees()":"118b48e5","getApplicableFees(address,uint256,address)":"01999b36"},"rawMetadata":"{\"compiler\":{\"version\":\"0.8.25+commit.b61c2a91\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[],\"name\":\"EscrowFeeManager__FeeTooHigh\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"EscrowFeeManager__UnsupportedFeeConfiguration\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"EscrowFeeManager__ZeroAddressProvided\",\"type\":\"error\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"instance\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"contractId\",\"type\":\"uint256\"}],\"name\":\"ContractSpecificFeesReset\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"instance\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"contractId\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint16\",\"name\":\"coverage\",\"type\":\"uint16\"},{\"indexed\":false,\"internalType\":\"uint16\",\"name\":\"claim\",\"type\":\"uint16\"}],\"name\":\"ContractSpecificFeesSet\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"uint16\",\"name\":\"coverage\",\"type\":\"uint16\"},{\"indexed\":false,\"internalType\":\"uint16\",\"name\":\"claim\",\"type\":\"uint16\"}],\"name\":\"DefaultFeesSet\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"instance\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint16\",\"name\":\"coverage\",\"type\":\"uint16\"},{\"indexed\":false,\"internalType\":\"uint16\",\"name\":\"claim\",\"type\":\"uint16\"}],\"name\":\"InstanceFeesSet\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"instance\",\"type\":\"address\"}],\"name\":\"InstanceSpecificFeesReset\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"user\",\"type\":\"address\"}],\"name\":\"UserSpecificFeesReset\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"user\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint16\",\"name\":\"coverage\",\"type\":\"uint16\"},{\"indexed\":false,\"internalType\":\"uint16\",\"name\":\"claim\",\"type\":\"uint16\"}],\"name\":\"UserSpecificFeesSet\",\"type\":\"event\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"instance\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"contractId\",\"type\":\"uint256\"},{\"internalType\":\"address\",\"name\":\"contractor\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"claimedAmount\",\"type\":\"uint256\"},{\"internalType\":\"enum Enums.FeeConfig\",\"name\":\"feeConfig\",\"type\":\"uint8\"}],\"name\":\"computeClaimableAmountAndFee\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"claimableAmount\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"feeDeducted\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"clientFee\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"instance\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"contractId\",\"type\":\"uint256\"},{\"internalType\":\"address\",\"name\":\"client\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"depositAmount\",\"type\":\"uint256\"},{\"internalType\":\"enum Enums.FeeConfig\",\"name\":\"feeConfig\",\"type\":\"uint8\"}],\"name\":\"computeDepositAmountAndFee\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"totalDepositAmount\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"feeApplied\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"defaultFees\",\"outputs\":[{\"internalType\":\"uint16\",\"name\":\"\",\"type\":\"uint16\"},{\"internalType\":\"uint16\",\"name\":\"\",\"type\":\"uint16\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"instance\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"contractId\",\"type\":\"uint256\"},{\"internalType\":\"address\",\"name\":\"user\",\"type\":\"address\"}],\"name\":\"getApplicableFees\",\"outputs\":[{\"components\":[{\"internalType\":\"uint16\",\"name\":\"coverage\",\"type\":\"uint16\"},{\"internalType\":\"uint16\",\"name\":\"claim\",\"type\":\"uint16\"}],\"internalType\":\"struct IEscrowFeeManager.FeeRates\",\"name\":\"\",\"type\":\"tuple\"}],\"stateMutability\":\"view\",\"type\":\"function\"}],\"devdoc\":{\"errors\":{\"EscrowFeeManager__FeeTooHigh()\":[{\"details\":\"Thrown when the specified fee exceeds the maximum allowed basis points.\"}],\"EscrowFeeManager__UnsupportedFeeConfiguration()\":[{\"details\":\"Thrown when an unsupported fee configuration is used.\"}],\"EscrowFeeManager__ZeroAddressProvided()\":[{\"details\":\"Thrown when an operation includes or results in a zero address where it is not allowed.\"}]},\"events\":{\"ContractSpecificFeesReset(address,uint256)\":{\"params\":{\"contractId\":\"The unique identifier for the contract whose fees were reset.\",\"instance\":\"The address of the instance under which the contract falls.\"}},\"ContractSpecificFeesSet(address,uint256,uint16,uint16)\":{\"params\":{\"claim\":\"The specific claim fee as a percentage in basis points.\",\"contractId\":\"The ID of the contract within the instance.\",\"coverage\":\"The specific coverage fee as a percentage in basis points.\",\"instance\":\"The address of the instance for which to set specific fees.\"}},\"DefaultFeesSet(uint16,uint16)\":{\"params\":{\"claim\":\"The new default claim fee as a percentage in basis points.\",\"coverage\":\"The new default coverage fee as a percentage in basis points.\"}},\"InstanceFeesSet(address,uint16,uint16)\":{\"params\":{\"claim\":\"The special claim fee as a percentage in basis points.\",\"coverage\":\"The specific coverage fee as a percentage in basis points.\",\"instance\":\"The address of the instance for which to set specific fees.\"}},\"InstanceSpecificFeesReset(address)\":{\"params\":{\"instance\":\"The address of the instance whose fees were reset.\"}},\"UserSpecificFeesReset(address)\":{\"params\":{\"user\":\"The address of the user whose fees were reset.\"}},\"UserSpecificFeesSet(address,uint16,uint16)\":{\"params\":{\"claim\":\"The specific claim fee as a percentage in basis points.\",\"coverage\":\"The specific coverage fee as a percentage in basis points.\",\"user\":\"The address of the user for whom specific fees are set.\"}}},\"kind\":\"dev\",\"methods\":{\"computeClaimableAmountAndFee(address,uint256,address,uint256,uint8)\":{\"params\":{\"claimedAmount\":\"The amount being claimed before fees.\",\"contractId\":\"The specific contract ID within the proxy instance.\",\"contractor\":\"The address of the contractor claiming the funds.\",\"feeConfig\":\"The fee configuration to determine which fees to deduct.\",\"instance\":\"The address of the deployed proxy instance (e.g., EscrowHourly or EscrowMilestone).\"},\"returns\":{\"claimableAmount\":\"The amount the contractor can claim after fee deductions.\",\"clientFee\":\"The additional fee amount covered by the client if applicable.\",\"feeDeducted\":\"The amount of fees deducted based on the configuration.\"}},\"computeDepositAmountAndFee(address,uint256,address,uint256,uint8)\":{\"params\":{\"client\":\"The address of the client making the deposit.\",\"contractId\":\"The specific contract ID within the proxy instance.\",\"depositAmount\":\"The amount of the deposit before fees are applied.\",\"feeConfig\":\"The fee configuration to determine which fees to apply.\",\"instance\":\"The address of the deployed proxy instance (e.g., EscrowHourly or EscrowMilestone).\"},\"returns\":{\"feeApplied\":\"The amount of fees applied based on the configuration.\",\"totalDepositAmount\":\"The total amount after fees are added.\"}},\"defaultFees()\":{\"details\":\"This function returns two uint16 values representing the default percentages for coverage and claim fees     respectively.\",\"returns\":{\"_0\":\"coverage The default fee percentage for coverage charges.\",\"_1\":\"claim The default fee percentage for claim charges.\"}},\"getApplicableFees(address,uint256,address)\":{\"params\":{\"contractId\":\"The unique identifier for the contract to which the fees apply.\",\"instance\":\"The address of the instance under which the contract falls.\",\"user\":\"The address of the user involved in the transaction.\"},\"returns\":{\"_0\":\"The applicable `FeeRates` structure containing the coverage and claim fee rates.\"}}},\"title\":\"Interface for Escrow Fee Manager\",\"version\":1},\"userdoc\":{\"events\":{\"ContractSpecificFeesReset(address,uint256)\":{\"notice\":\"Emitted when the contract-specific fees are reset to the default configuration.\"},\"ContractSpecificFeesSet(address,uint256,uint16,uint16)\":{\"notice\":\"Emitted when specific fees are set for a particular contract ID within an instance.\"},\"DefaultFeesSet(uint16,uint16)\":{\"notice\":\"Emitted when the default fees are updated.\"},\"InstanceFeesSet(address,uint16,uint16)\":{\"notice\":\"Emitted when specific fees are set for an instance (proxy).\"},\"InstanceSpecificFeesReset(address)\":{\"notice\":\"Emitted when the instance-specific fees are reset to the default configuration.\"},\"UserSpecificFeesReset(address)\":{\"notice\":\"Emitted when the user-specific fees are reset to the default configuration.\"},\"UserSpecificFeesSet(address,uint16,uint16)\":{\"notice\":\"Emitted when specific fees are set for a user.\"}},\"kind\":\"user\",\"methods\":{\"computeClaimableAmountAndFee(address,uint256,address,uint256,uint8)\":{\"notice\":\"Calculates the amount a contractor can claim, accounting for any applicable fees.\"},\"computeDepositAmountAndFee(address,uint256,address,uint256,uint8)\":{\"notice\":\"Computes the total deposit amount including any applicable fees.\"},\"defaultFees()\":{\"notice\":\"Retrieves the default fee rates for coverage and claim.\"},\"getApplicableFees(address,uint256,address)\":{\"notice\":\"Retrieves the applicable fee rates based on priority for a given contract, instance, and user.\"}},\"notice\":\"Defines the standard functions and events for an escrow fee management system.\",\"version\":1}},\"settings\":{\"compilationTarget\":{\"src/interfaces/IEscrowFeeManager.sol\":\"IEscrowFeeManager\"},\"evmVersion\":\"cancun\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\"},\"optimizer\":{\"enabled\":false,\"runs\":200},\"remappings\":[\":@openzeppelin/=lib/openzeppelin-contracts/contracts/\",\":@openzeppelin/contracts/=lib/openzeppelin-contracts/contracts/\",\":@solbase/=lib/solbase/src/\",\":@solmate/=lib/solmate/src/\",\":ds-test/=lib/solbase/lib/ds-test/src/\",\":erc4626-tests/=lib/openzeppelin-contracts/lib/erc4626-tests/\",\":forge-std/=lib/forge-std/src/\",\":openzeppelin-contracts/=lib/openzeppelin-contracts/\",\":solbase/=lib/solbase/src/\",\":solmate/=lib/solmate/src/\"]},\"sources\":{\"src/interfaces/IEscrowFeeManager.sol\":{\"keccak256\":\"0xa45d25f162cc477514d568ea15373a10cc72b6adf4b8ae8c32db3a3aefc59fb9\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://5b0a124af72952549d6b073bec0b42d1fa4a271b15dec3cc31e582ee11cf382a\",\"dweb:/ipfs/QmeruJheWkboppnSPQMiXSgzaGamD7NKRo7yMJP9x9asfk\"]},\"src/libs/Enums.sol\":{\"keccak256\":\"0x702d845d8c5664f8a656cf0677f79938eac88efb07ccd8de2049d1e5ca4ba48a\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://8b61afd54090312927f91eeabfb447ee9554842bf9adee1463e5b76e01531221\",\"dweb:/ipfs/QmXYEcPQDx43E47Vq17XguwsYXpGdTosYpDjjSTjz7Yjop\"]}},\"version\":1}","metadata":{"compiler":{"version":"0.8.25+commit.b61c2a91"},"language":"Solidity","output":{"abi":[{"inputs":[],"type":"error","name":"EscrowFeeManager__FeeTooHigh"},{"inputs":[],"type":"error","name":"EscrowFeeManager__UnsupportedFeeConfiguration"},{"inputs":[],"type":"error","name":"EscrowFeeManager__ZeroAddressProvided"},{"inputs":[{"internalType":"address","name":"instance","type":"address","indexed":true},{"internalType":"uint256","name":"contractId","type":"uint256","indexed":true}],"type":"event","name":"ContractSpecificFeesReset","anonymous":false},{"inputs":[{"internalType":"address","name":"instance","type":"address","indexed":true},{"internalType":"uint256","name":"contractId","type":"uint256","indexed":true},{"internalType":"uint16","name":"coverage","type":"uint16","indexed":false},{"internalType":"uint16","name":"claim","type":"uint16","indexed":false}],"type":"event","name":"ContractSpecificFeesSet","anonymous":false},{"inputs":[{"internalType":"uint16","name":"coverage","type":"uint16","indexed":false},{"internalType":"uint16","name":"claim","type":"uint16","indexed":false}],"type":"event","name":"DefaultFeesSet","anonymous":false},{"inputs":[{"internalType":"address","name":"instance","type":"address","indexed":true},{"internalType":"uint16","name":"coverage","type":"uint16","indexed":false},{"internalType":"uint16","name":"claim","type":"uint16","indexed":false}],"type":"event","name":"InstanceFeesSet","anonymous":false},{"inputs":[{"internalType":"address","name":"instance","type":"address","indexed":true}],"type":"event","name":"InstanceSpecificFeesReset","anonymous":false},{"inputs":[{"internalType":"address","name":"user","type":"address","indexed":true}],"type":"event","name":"UserSpecificFeesReset","anonymous":false},{"inputs":[{"internalType":"address","name":"user","type":"address","indexed":true},{"internalType":"uint16","name":"coverage","type":"uint16","indexed":false},{"internalType":"uint16","name":"claim","type":"uint16","indexed":false}],"type":"event","name":"UserSpecificFeesSet","anonymous":false},{"inputs":[{"internalType":"address","name":"instance","type":"address"},{"internalType":"uint256","name":"contractId","type":"uint256"},{"internalType":"address","name":"contractor","type":"address"},{"internalType":"uint256","name":"claimedAmount","type":"uint256"},{"internalType":"enum Enums.FeeConfig","name":"feeConfig","type":"uint8"}],"stateMutability":"view","type":"function","name":"computeClaimableAmountAndFee","outputs":[{"internalType":"uint256","name":"claimableAmount","type":"uint256"},{"internalType":"uint256","name":"feeDeducted","type":"uint256"},{"internalType":"uint256","name":"clientFee","type":"uint256"}]},{"inputs":[{"internalType":"address","name":"instance","type":"address"},{"internalType":"uint256","name":"contractId","type":"uint256"},{"internalType":"address","name":"client","type":"address"},{"internalType":"uint256","name":"depositAmount","type":"uint256"},{"internalType":"enum Enums.FeeConfig","name":"feeConfig","type":"uint8"}],"stateMutability":"view","type":"function","name":"computeDepositAmountAndFee","outputs":[{"internalType":"uint256","name":"totalDepositAmount","type":"uint256"},{"internalType":"uint256","name":"feeApplied","type":"uint256"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"defaultFees","outputs":[{"internalType":"uint16","name":"","type":"uint16"},{"internalType":"uint16","name":"","type":"uint16"}]},{"inputs":[{"internalType":"address","name":"instance","type":"address"},{"internalType":"uint256","name":"contractId","type":"uint256"},{"internalType":"address","name":"user","type":"address"}],"stateMutability":"view","type":"function","name":"getApplicableFees","outputs":[{"internalType":"struct IEscrowFeeManager.FeeRates","name":"","type":"tuple","components":[{"internalType":"uint16","name":"coverage","type":"uint16"},{"internalType":"uint16","name":"claim","type":"uint16"}]}]}],"devdoc":{"kind":"dev","methods":{"computeClaimableAmountAndFee(address,uint256,address,uint256,uint8)":{"params":{"claimedAmount":"The amount being claimed before fees.","contractId":"The specific contract ID within the proxy instance.","contractor":"The address of the contractor claiming the funds.","feeConfig":"The fee configuration to determine which fees to deduct.","instance":"The address of the deployed proxy instance (e.g., EscrowHourly or EscrowMilestone)."},"returns":{"claimableAmount":"The amount the contractor can claim after fee deductions.","clientFee":"The additional fee amount covered by the client if applicable.","feeDeducted":"The amount of fees deducted based on the configuration."}},"computeDepositAmountAndFee(address,uint256,address,uint256,uint8)":{"params":{"client":"The address of the client making the deposit.","contractId":"The specific contract ID within the proxy instance.","depositAmount":"The amount of the deposit before fees are applied.","feeConfig":"The fee configuration to determine which fees to apply.","instance":"The address of the deployed proxy instance (e.g., EscrowHourly or EscrowMilestone)."},"returns":{"feeApplied":"The amount of fees applied based on the configuration.","totalDepositAmount":"The total amount after fees are added."}},"defaultFees()":{"details":"This function returns two uint16 values representing the default percentages for coverage and claim fees     respectively.","returns":{"_0":"coverage The default fee percentage for coverage charges.","_1":"claim The default fee percentage for claim charges."}},"getApplicableFees(address,uint256,address)":{"params":{"contractId":"The unique identifier for the contract to which the fees apply.","instance":"The address of the instance under which the contract falls.","user":"The address of the user involved in the transaction."},"returns":{"_0":"The applicable `FeeRates` structure containing the coverage and claim fee rates."}}},"version":1},"userdoc":{"kind":"user","methods":{"computeClaimableAmountAndFee(address,uint256,address,uint256,uint8)":{"notice":"Calculates the amount a contractor can claim, accounting for any applicable fees."},"computeDepositAmountAndFee(address,uint256,address,uint256,uint8)":{"notice":"Computes the total deposit amount including any applicable fees."},"defaultFees()":{"notice":"Retrieves the default fee rates for coverage and claim."},"getApplicableFees(address,uint256,address)":{"notice":"Retrieves the applicable fee rates based on priority for a given contract, instance, and user."}},"version":1}},"settings":{"remappings":["@openzeppelin/=lib/openzeppelin-contracts/contracts/","@openzeppelin/contracts/=lib/openzeppelin-contracts/contracts/","@solbase/=lib/solbase/src/","@solmate/=lib/solmate/src/","ds-test/=lib/solbase/lib/ds-test/src/","erc4626-tests/=lib/openzeppelin-contracts/lib/erc4626-tests/","forge-std/=lib/forge-std/src/","openzeppelin-contracts/=lib/openzeppelin-contracts/","solbase/=lib/solbase/src/","solmate/=lib/solmate/src/"],"optimizer":{"enabled":false,"runs":200},"metadata":{"bytecodeHash":"ipfs"},"compilationTarget":{"src/interfaces/IEscrowFeeManager.sol":"IEscrowFeeManager"},"evmVersion":"cancun","libraries":{}},"sources":{"src/interfaces/IEscrowFeeManager.sol":{"keccak256":"0xa45d25f162cc477514d568ea15373a10cc72b6adf4b8ae8c32db3a3aefc59fb9","urls":["bzz-raw://5b0a124af72952549d6b073bec0b42d1fa4a271b15dec3cc31e582ee11cf382a","dweb:/ipfs/QmeruJheWkboppnSPQMiXSgzaGamD7NKRo7yMJP9x9asfk"],"license":"MIT"},"src/libs/Enums.sol":{"keccak256":"0x702d845d8c5664f8a656cf0677f79938eac88efb07ccd8de2049d1e5ca4ba48a","urls":["bzz-raw://8b61afd54090312927f91eeabfb447ee9554842bf9adee1463e5b76e01531221","dweb:/ipfs/QmXYEcPQDx43E47Vq17XguwsYXpGdTosYpDjjSTjz7Yjop"],"license":"MIT"}},"version":1},"ast":{"absolutePath":"src/interfaces/IEscrowFeeManager.sol","id":59073,"exportedSymbols":{"Enums":[59887],"IEscrowFeeManager":[59072]},"nodeType":"SourceUnit","src":"32:6550:60","nodes":[{"id":58939,"nodeType":"PragmaDirective","src":"32:23:60","nodes":[],"literals":["solidity","0.8",".25"]},{"id":58941,"nodeType":"ImportDirective","src":"57:42:60","nodes":[],"absolutePath":"src/libs/Enums.sol","file":"../libs/Enums.sol","nameLocation":"-1:-1:-1","scope":59073,"sourceUnit":59888,"symbolAliases":[{"foreign":{"id":58940,"name":"Enums","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":59887,"src":"66:5:60","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":59072,"nodeType":"ContractDefinition","src":"236:6345:60","nodes":[{"id":58948,"nodeType":"StructDefinition","src":"629:123:60","nodes":[],"canonicalName":"IEscrowFeeManager.FeeRates","documentation":{"id":58943,"nodeType":"StructuredDocumentation","src":"270:354:60","text":"@notice Represents fee rates for coverage and claim fees, applicable at multiple levels.\n @dev This structure is used to define fee rates at various priority levels:\n contract-specific, instance-specific, user-specific, or as a default.\n @param coverage The coverage fee percentage.\n @param claim The claim fee percentage."},"members":[{"constant":false,"id":58945,"mutability":"mutable","name":"coverage","nameLocation":"662:8:60","nodeType":"VariableDeclaration","scope":58948,"src":"655:15:60","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"},"typeName":{"id":58944,"name":"uint16","nodeType":"ElementaryTypeName","src":"655:6:60","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"visibility":"internal"},{"constant":false,"id":58947,"mutability":"mutable","name":"claim","nameLocation":"715:5:60","nodeType":"VariableDeclaration","scope":58948,"src":"708:12:60","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"},"typeName":{"id":58946,"name":"uint16","nodeType":"ElementaryTypeName","src":"708:6:60","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"visibility":"internal"}],"name":"FeeRates","nameLocation":"636:8:60","scope":59072,"visibility":"public"},{"id":58951,"nodeType":"ErrorDefinition","src":"843:37:60","nodes":[],"documentation":{"id":58949,"nodeType":"StructuredDocumentation","src":"758:80:60","text":"@dev Thrown when the specified fee exceeds the maximum allowed basis points."},"errorSelector":"61c1195d","name":"EscrowFeeManager__FeeTooHigh","nameLocation":"849:28:60","parameters":{"id":58950,"nodeType":"ParameterList","parameters":[],"src":"877:2:60"}},{"id":58954,"nodeType":"ErrorDefinition","src":"953:54:60","nodes":[],"documentation":{"id":58952,"nodeType":"StructuredDocumentation","src":"886:62:60","text":"@dev Thrown when an unsupported fee configuration is used."},"errorSelector":"0ed3d834","name":"EscrowFeeManager__UnsupportedFeeConfiguration","nameLocation":"959:45:60","parameters":{"id":58953,"nodeType":"ParameterList","parameters":[],"src":"1004:2:60"}},{"id":58957,"nodeType":"ErrorDefinition","src":"1114:46:60","nodes":[],"documentation":{"id":58955,"nodeType":"StructuredDocumentation","src":"1013:96:60","text":"@dev Thrown when an operation includes or results in a zero address where it is not allowed."},"errorSelector":"0ea7a1eb","name":"EscrowFeeManager__ZeroAddressProvided","nameLocation":"1120:37:60","parameters":{"id":58956,"nodeType":"ParameterList","parameters":[],"src":"1157:2:60"}},{"id":58964,"nodeType":"EventDefinition","src":"1391:52:60","nodes":[],"anonymous":false,"documentation":{"id":58958,"nodeType":"StructuredDocumentation","src":"1166:220:60","text":"@notice Emitted when the default fees are updated.\n @param coverage The new default coverage fee as a percentage in basis points.\n @param claim The new default claim fee as a percentage in basis points."},"eventSelector":"032e5ddfa9f9a5b4eb50dd03b7d24478d00b76b0c0eb7224d375a24b5ab6522b","name":"DefaultFeesSet","nameLocation":"1397:14:60","parameters":{"id":58963,"nodeType":"ParameterList","parameters":[{"constant":false,"id":58960,"indexed":false,"mutability":"mutable","name":"coverage","nameLocation":"1419:8:60","nodeType":"VariableDeclaration","scope":58964,"src":"1412:15:60","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"},"typeName":{"id":58959,"name":"uint16","nodeType":"ElementaryTypeName","src":"1412:6:60","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"visibility":"internal"},{"constant":false,"id":58962,"indexed":false,"mutability":"mutable","name":"claim","nameLocation":"1436:5:60","nodeType":"VariableDeclaration","scope":58964,"src":"1429:12:60","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"},"typeName":{"id":58961,"name":"uint16","nodeType":"ElementaryTypeName","src":"1429:6:60","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"visibility":"internal"}],"src":"1411:31:60"}},{"id":58973,"nodeType":"EventDefinition","src":"1748:79:60","nodes":[],"anonymous":false,"documentation":{"id":58965,"nodeType":"StructuredDocumentation","src":"1449:294:60","text":"@notice Emitted when specific fees are set for a user.\n @param user The address of the user for whom specific fees are set.\n @param coverage The specific coverage fee as a percentage in basis points.\n @param claim The specific claim fee as a percentage in basis points."},"eventSelector":"ed6f30098548990116844acae3f34a77202fd0d5f67710cf7dbed2577b514916","name":"UserSpecificFeesSet","nameLocation":"1754:19:60","parameters":{"id":58972,"nodeType":"ParameterList","parameters":[{"constant":false,"id":58967,"indexed":true,"mutability":"mutable","name":"user","nameLocation":"1790:4:60","nodeType":"VariableDeclaration","scope":58973,"src":"1774:20:60","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":58966,"name":"address","nodeType":"ElementaryTypeName","src":"1774:7:60","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":58969,"indexed":false,"mutability":"mutable","name":"coverage","nameLocation":"1803:8:60","nodeType":"VariableDeclaration","scope":58973,"src":"1796:15:60","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"},"typeName":{"id":58968,"name":"uint16","nodeType":"ElementaryTypeName","src":"1796:6:60","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"visibility":"internal"},{"constant":false,"id":58971,"indexed":false,"mutability":"mutable","name":"claim","nameLocation":"1820:5:60","nodeType":"VariableDeclaration","scope":58973,"src":"1813:12:60","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"},"typeName":{"id":58970,"name":"uint16","nodeType":"ElementaryTypeName","src":"1813:6:60","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"visibility":"internal"}],"src":"1773:53:60"}},{"id":58982,"nodeType":"EventDefinition","src":"2152:79:60","nodes":[],"anonymous":false,"documentation":{"id":58974,"nodeType":"StructuredDocumentation","src":"1833:314:60","text":"@notice Emitted when specific fees are set for an instance (proxy).\n @param instance The address of the instance for which to set specific fees.\n @param coverage The specific coverage fee as a percentage in basis points.\n @param claim The special claim fee as a percentage in basis points."},"eventSelector":"8d8b7af773615f28c13506165835ca59408dc30706fc9cb028b3923cde137262","name":"InstanceFeesSet","nameLocation":"2158:15:60","parameters":{"id":58981,"nodeType":"ParameterList","parameters":[{"constant":false,"id":58976,"indexed":true,"mutability":"mutable","name":"instance","nameLocation":"2190:8:60","nodeType":"VariableDeclaration","scope":58982,"src":"2174:24:60","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":58975,"name":"address","nodeType":"ElementaryTypeName","src":"2174:7:60","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":58978,"indexed":false,"mutability":"mutable","name":"coverage","nameLocation":"2207:8:60","nodeType":"VariableDeclaration","scope":58982,"src":"2200:15:60","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"},"typeName":{"id":58977,"name":"uint16","nodeType":"ElementaryTypeName","src":"2200:6:60","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"visibility":"internal"},{"constant":false,"id":58980,"indexed":false,"mutability":"mutable","name":"claim","nameLocation":"2224:5:60","nodeType":"VariableDeclaration","scope":58982,"src":"2217:12:60","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"},"typeName":{"id":58979,"name":"uint16","nodeType":"ElementaryTypeName","src":"2217:6:60","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"visibility":"internal"}],"src":"2173:57:60"}},{"id":58993,"nodeType":"EventDefinition","src":"2651:115:60","nodes":[],"anonymous":false,"documentation":{"id":58983,"nodeType":"StructuredDocumentation","src":"2237:409:60","text":"@notice Emitted when specific fees are set for a particular contract ID within an instance.\n @param instance The address of the instance for which to set specific fees.\n @param contractId The ID of the contract within the instance.\n @param coverage The specific coverage fee as a percentage in basis points.\n @param claim The specific claim fee as a percentage in basis points."},"eventSelector":"f5d1f5db04ae3338712d82b885bdbda3f0a065cd77f336c9714180ae5a88df31","name":"ContractSpecificFeesSet","nameLocation":"2657:23:60","parameters":{"id":58992,"nodeType":"ParameterList","parameters":[{"constant":false,"id":58985,"indexed":true,"mutability":"mutable","name":"instance","nameLocation":"2697:8:60","nodeType":"VariableDeclaration","scope":58993,"src":"2681:24:60","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":58984,"name":"address","nodeType":"ElementaryTypeName","src":"2681:7:60","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":58987,"indexed":true,"mutability":"mutable","name":"contractId","nameLocation":"2723:10:60","nodeType":"VariableDeclaration","scope":58993,"src":"2707:26:60","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":58986,"name":"uint256","nodeType":"ElementaryTypeName","src":"2707:7:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":58989,"indexed":false,"mutability":"mutable","name":"coverage","nameLocation":"2742:8:60","nodeType":"VariableDeclaration","scope":58993,"src":"2735:15:60","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"},"typeName":{"id":58988,"name":"uint16","nodeType":"ElementaryTypeName","src":"2735:6:60","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"visibility":"internal"},{"constant":false,"id":58991,"indexed":false,"mutability":"mutable","name":"claim","nameLocation":"2759:5:60","nodeType":"VariableDeclaration","scope":58993,"src":"2752:12:60","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"},"typeName":{"id":58990,"name":"uint16","nodeType":"ElementaryTypeName","src":"2752:6:60","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"visibility":"internal"}],"src":"2680:85:60"}},{"id":59000,"nodeType":"EventDefinition","src":"3040:86:60","nodes":[],"anonymous":false,"documentation":{"id":58994,"nodeType":"StructuredDocumentation","src":"2772:263:60","text":"@notice Emitted when the contract-specific fees are reset to the default configuration.\n @param instance The address of the instance under which the contract falls.\n @param contractId The unique identifier for the contract whose fees were reset."},"eventSelector":"c3377499d2be28e7566d760a8cc4fe2294ff3b0f37456804b1bee804f934b491","name":"ContractSpecificFeesReset","nameLocation":"3046:25:60","parameters":{"id":58999,"nodeType":"ParameterList","parameters":[{"constant":false,"id":58996,"indexed":true,"mutability":"mutable","name":"instance","nameLocation":"3088:8:60","nodeType":"VariableDeclaration","scope":59000,"src":"3072:24:60","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":58995,"name":"address","nodeType":"ElementaryTypeName","src":"3072:7:60","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":58998,"indexed":true,"mutability":"mutable","name":"contractId","nameLocation":"3114:10:60","nodeType":"VariableDeclaration","scope":59000,"src":"3098:26:60","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":58997,"name":"uint256","nodeType":"ElementaryTypeName","src":"3098:7:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"3071:54:60"}},{"id":59005,"nodeType":"EventDefinition","src":"3303:58:60","nodes":[],"anonymous":false,"documentation":{"id":59001,"nodeType":"StructuredDocumentation","src":"3132:166:60","text":"@notice Emitted when the instance-specific fees are reset to the default configuration.\n @param instance The address of the instance whose fees were reset."},"eventSelector":"6f858a14168c5744689ba0833d89291e3019b504139ff21de28472eb2c1d48f9","name":"InstanceSpecificFeesReset","nameLocation":"3309:25:60","parameters":{"id":59004,"nodeType":"ParameterList","parameters":[{"constant":false,"id":59003,"indexed":true,"mutability":"mutable","name":"instance","nameLocation":"3351:8:60","nodeType":"VariableDeclaration","scope":59005,"src":"3335:24:60","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":59002,"name":"address","nodeType":"ElementaryTypeName","src":"3335:7:60","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"3334:26:60"}},{"id":59010,"nodeType":"EventDefinition","src":"3526:50:60","nodes":[],"anonymous":false,"documentation":{"id":59006,"nodeType":"StructuredDocumentation","src":"3367:154:60","text":"@notice Emitted when the user-specific fees are reset to the default configuration.\n @param user The address of the user whose fees were reset."},"eventSelector":"de8ad9d5abc3d2b73a26ee68778fabf8407b5832630eefa00a64e7f25d6cb535","name":"UserSpecificFeesReset","nameLocation":"3532:21:60","parameters":{"id":59009,"nodeType":"ParameterList","parameters":[{"constant":false,"id":59008,"indexed":true,"mutability":"mutable","name":"user","nameLocation":"3570:4:60","nodeType":"VariableDeclaration","scope":59010,"src":"3554:20:60","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":59007,"name":"address","nodeType":"ElementaryTypeName","src":"3554:7:60","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"3553:22:60"}},{"id":59029,"nodeType":"FunctionDefinition","src":"4234:257:60","nodes":[],"documentation":{"id":59011,"nodeType":"StructuredDocumentation","src":"3582:647:60","text":"@notice Computes the total deposit amount including any applicable fees.\n @param instance The address of the deployed proxy instance (e.g., EscrowHourly or EscrowMilestone).\n @param contractId The specific contract ID within the proxy instance.\n @param client The address of the client making the deposit.\n @param depositAmount The amount of the deposit before fees are applied.\n @param feeConfig The fee configuration to determine which fees to apply.\n @return totalDepositAmount The total amount after fees are added.\n @return feeApplied The amount of fees applied based on the configuration."},"functionSelector":"79c9fe44","implemented":false,"kind":"function","modifiers":[],"name":"computeDepositAmountAndFee","nameLocation":"4243:26:60","parameters":{"id":59023,"nodeType":"ParameterList","parameters":[{"constant":false,"id":59013,"mutability":"mutable","name":"instance","nameLocation":"4287:8:60","nodeType":"VariableDeclaration","scope":59029,"src":"4279:16:60","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":59012,"name":"address","nodeType":"ElementaryTypeName","src":"4279:7:60","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":59015,"mutability":"mutable","name":"contractId","nameLocation":"4313:10:60","nodeType":"VariableDeclaration","scope":59029,"src":"4305:18:60","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":59014,"name":"uint256","nodeType":"ElementaryTypeName","src":"4305:7:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":59017,"mutability":"mutable","name":"client","nameLocation":"4341:6:60","nodeType":"VariableDeclaration","scope":59029,"src":"4333:14:60","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":59016,"name":"address","nodeType":"ElementaryTypeName","src":"4333:7:60","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":59019,"mutability":"mutable","name":"depositAmount","nameLocation":"4365:13:60","nodeType":"VariableDeclaration","scope":59029,"src":"4357:21:60","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":59018,"name":"uint256","nodeType":"ElementaryTypeName","src":"4357:7:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":59022,"mutability":"mutable","name":"feeConfig","nameLocation":"4404:9:60","nodeType":"VariableDeclaration","scope":59029,"src":"4388:25:60","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_enum$_FeeConfig_$59854","typeString":"enum Enums.FeeConfig"},"typeName":{"id":59021,"nodeType":"UserDefinedTypeName","pathNode":{"id":59020,"name":"Enums.FeeConfig","nameLocations":["4388:5:60","4394:9:60"],"nodeType":"IdentifierPath","referencedDeclaration":59854,"src":"4388:15:60"},"referencedDeclaration":59854,"src":"4388:15:60","typeDescriptions":{"typeIdentifier":"t_enum$_FeeConfig_$59854","typeString":"enum Enums.FeeConfig"}},"visibility":"internal"}],"src":"4269:150:60"},"returnParameters":{"id":59028,"nodeType":"ParameterList","parameters":[{"constant":false,"id":59025,"mutability":"mutable","name":"totalDepositAmount","nameLocation":"4451:18:60","nodeType":"VariableDeclaration","scope":59029,"src":"4443:26:60","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":59024,"name":"uint256","nodeType":"ElementaryTypeName","src":"4443:7:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":59027,"mutability":"mutable","name":"feeApplied","nameLocation":"4479:10:60","nodeType":"VariableDeclaration","scope":59029,"src":"4471:18:60","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":59026,"name":"uint256","nodeType":"ElementaryTypeName","src":"4471:7:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"4442:48:60"},"scope":59072,"stateMutability":"view","virtual":false,"visibility":"external"},{"id":59050,"nodeType":"FunctionDefinition","src":"5269:280:60","nodes":[],"documentation":{"id":59030,"nodeType":"StructuredDocumentation","src":"4497:767:60","text":"@notice Calculates the amount a contractor can claim, accounting for any applicable fees.\n @param instance The address of the deployed proxy instance (e.g., EscrowHourly or EscrowMilestone).\n @param contractId The specific contract ID within the proxy instance.\n @param contractor The address of the contractor claiming the funds.\n @param claimedAmount The amount being claimed before fees.\n @param feeConfig The fee configuration to determine which fees to deduct.\n @return claimableAmount The amount the contractor can claim after fee deductions.\n @return feeDeducted The amount of fees deducted based on the configuration.\n @return clientFee The additional fee amount covered by the client if applicable."},"functionSelector":"5c5a62f3","implemented":false,"kind":"function","modifiers":[],"name":"computeClaimableAmountAndFee","nameLocation":"5278:28:60","parameters":{"id":59042,"nodeType":"ParameterList","parameters":[{"constant":false,"id":59032,"mutability":"mutable","name":"instance","nameLocation":"5324:8:60","nodeType":"VariableDeclaration","scope":59050,"src":"5316:16:60","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":59031,"name":"address","nodeType":"ElementaryTypeName","src":"5316:7:60","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":59034,"mutability":"mutable","name":"contractId","nameLocation":"5350:10:60","nodeType":"VariableDeclaration","scope":59050,"src":"5342:18:60","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":59033,"name":"uint256","nodeType":"ElementaryTypeName","src":"5342:7:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":59036,"mutability":"mutable","name":"contractor","nameLocation":"5378:10:60","nodeType":"VariableDeclaration","scope":59050,"src":"5370:18:60","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":59035,"name":"address","nodeType":"ElementaryTypeName","src":"5370:7:60","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":59038,"mutability":"mutable","name":"claimedAmount","nameLocation":"5406:13:60","nodeType":"VariableDeclaration","scope":59050,"src":"5398:21:60","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":59037,"name":"uint256","nodeType":"ElementaryTypeName","src":"5398:7:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":59041,"mutability":"mutable","name":"feeConfig","nameLocation":"5445:9:60","nodeType":"VariableDeclaration","scope":59050,"src":"5429:25:60","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_enum$_FeeConfig_$59854","typeString":"enum Enums.FeeConfig"},"typeName":{"id":59040,"nodeType":"UserDefinedTypeName","pathNode":{"id":59039,"name":"Enums.FeeConfig","nameLocations":["5429:5:60","5435:9:60"],"nodeType":"IdentifierPath","referencedDeclaration":59854,"src":"5429:15:60"},"referencedDeclaration":59854,"src":"5429:15:60","typeDescriptions":{"typeIdentifier":"t_enum$_FeeConfig_$59854","typeString":"enum Enums.FeeConfig"}},"visibility":"internal"}],"src":"5306:154:60"},"returnParameters":{"id":59049,"nodeType":"ParameterList","parameters":[{"constant":false,"id":59044,"mutability":"mutable","name":"claimableAmount","nameLocation":"5492:15:60","nodeType":"VariableDeclaration","scope":59050,"src":"5484:23:60","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":59043,"name":"uint256","nodeType":"ElementaryTypeName","src":"5484:7:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":59046,"mutability":"mutable","name":"feeDeducted","nameLocation":"5517:11:60","nodeType":"VariableDeclaration","scope":59050,"src":"5509:19:60","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":59045,"name":"uint256","nodeType":"ElementaryTypeName","src":"5509:7:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":59048,"mutability":"mutable","name":"clientFee","nameLocation":"5538:9:60","nodeType":"VariableDeclaration","scope":59050,"src":"5530:17:60","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":59047,"name":"uint256","nodeType":"ElementaryTypeName","src":"5530:7:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"5483:65:60"},"scope":59072,"stateMutability":"view","virtual":false,"visibility":"external"},{"id":59058,"nodeType":"FunctionDefinition","src":"5913:62:60","nodes":[],"documentation":{"id":59051,"nodeType":"StructuredDocumentation","src":"5555:353:60","text":"@notice Retrieves the default fee rates for coverage and claim.\n @return coverage The default fee percentage for coverage charges.\n @return claim The default fee percentage for claim charges.\n @dev This function returns two uint16 values representing the default percentages for coverage and claim fees\n     respectively."},"functionSelector":"118b48e5","implemented":false,"kind":"function","modifiers":[],"name":"defaultFees","nameLocation":"5922:11:60","parameters":{"id":59052,"nodeType":"ParameterList","parameters":[],"src":"5933:2:60"},"returnParameters":{"id":59057,"nodeType":"ParameterList","parameters":[{"constant":false,"id":59054,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":59058,"src":"5959:6:60","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"},"typeName":{"id":59053,"name":"uint16","nodeType":"ElementaryTypeName","src":"5959:6:60","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"visibility":"internal"},{"constant":false,"id":59056,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":59058,"src":"5967:6:60","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"},"typeName":{"id":59055,"name":"uint16","nodeType":"ElementaryTypeName","src":"5967:6:60","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"visibility":"internal"}],"src":"5958:16:60"},"scope":59072,"stateMutability":"view","virtual":false,"visibility":"external"},{"id":59071,"nodeType":"FunctionDefinition","src":"6436:143:60","nodes":[],"documentation":{"id":59059,"nodeType":"StructuredDocumentation","src":"5981:450:60","text":"@notice Retrieves the applicable fee rates based on priority for a given contract, instance, and user.\n @param instance The address of the instance under which the contract falls.\n @param contractId The unique identifier for the contract to which the fees apply.\n @param user The address of the user involved in the transaction.\n @return The applicable `FeeRates` structure containing the coverage and claim fee rates."},"functionSelector":"01999b36","implemented":false,"kind":"function","modifiers":[],"name":"getApplicableFees","nameLocation":"6445:17:60","parameters":{"id":59066,"nodeType":"ParameterList","parameters":[{"constant":false,"id":59061,"mutability":"mutable","name":"instance","nameLocation":"6471:8:60","nodeType":"VariableDeclaration","scope":59071,"src":"6463:16:60","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":59060,"name":"address","nodeType":"ElementaryTypeName","src":"6463:7:60","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":59063,"mutability":"mutable","name":"contractId","nameLocation":"6489:10:60","nodeType":"VariableDeclaration","scope":59071,"src":"6481:18:60","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":59062,"name":"uint256","nodeType":"ElementaryTypeName","src":"6481:7:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":59065,"mutability":"mutable","name":"user","nameLocation":"6509:4:60","nodeType":"VariableDeclaration","scope":59071,"src":"6501:12:60","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":59064,"name":"address","nodeType":"ElementaryTypeName","src":"6501:7:60","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"6462:52:60"},"returnParameters":{"id":59070,"nodeType":"ParameterList","parameters":[{"constant":false,"id":59069,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":59071,"src":"6562:15:60","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_FeeRates_$58948_memory_ptr","typeString":"struct IEscrowFeeManager.FeeRates"},"typeName":{"id":59068,"nodeType":"UserDefinedTypeName","pathNode":{"id":59067,"name":"FeeRates","nameLocations":["6562:8:60"],"nodeType":"IdentifierPath","referencedDeclaration":58948,"src":"6562:8:60"},"referencedDeclaration":58948,"src":"6562:8:60","typeDescriptions":{"typeIdentifier":"t_struct$_FeeRates_$58948_storage_ptr","typeString":"struct IEscrowFeeManager.FeeRates"}},"visibility":"internal"}],"src":"6561:17:60"},"scope":59072,"stateMutability":"view","virtual":false,"visibility":"external"}],"abstract":false,"baseContracts":[],"canonicalName":"IEscrowFeeManager","contractDependencies":[],"contractKind":"interface","documentation":{"id":58942,"nodeType":"StructuredDocumentation","src":"101:135:60","text":"@title Interface for Escrow Fee Manager\n @notice Defines the standard functions and events for an escrow fee management system."},"fullyImplemented":false,"linearizedBaseContracts":[59072],"name":"IEscrowFeeManager","nameLocation":"246:17:60","scope":59073,"usedErrors":[58951,58954,58957],"usedEvents":[58964,58973,58982,58993,59000,59005,59010]}],"license":"MIT"},"id":60}